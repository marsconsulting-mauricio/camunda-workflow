<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_02ejwsj" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.7.0" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.18.0">
  <bpmn:collaboration id="Collaboration_0a2m3ru">
    <bpmn:participant id="Participant_15r3u82" name="Solicitação de Crédito" processRef="Process_0a3n8my" />
  </bpmn:collaboration>
  <bpmn:process id="Process_0a3n8my" isExecutable="true" camunda:historyTimeToLive="180">
    <bpmn:laneSet id="LaneSet_1ne3rgj">
      <bpmn:lane id="Lane_122ib7l" name="Solicitante">
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_07cgomp" name="Service">
        <bpmn:flowNodeRef>Gateway_0gavuh8</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>CadastrarCliente_07fpwhy</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0enn12e</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>BuscarCadastro_18ctxus</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>analiseCredito</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0sz33i6</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1b4yq3x</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1a7h9ou</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>AprovarCredito_1ac6m7q</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>RejeitarCredito_05u2ln8</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_19ui9tw" name="Analista de Crédito">
        <bpmn:flowNodeRef>Activity_1r3d3k6</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1yf7odi</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:startEvent id="StartEvent_1" name="Trigger Start">
      <bpmn:outgoing>Flow_0pvuz88</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:exclusiveGateway id="Gateway_0gavuh8" name="Cliente Existe?">
      <bpmn:incoming>Flow_1e8y8rm</bpmn:incoming>
      <bpmn:outgoing>Flow_049quxl</bpmn:outgoing>
      <bpmn:outgoing>Flow_0eaeb6k</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Activity_1r3d3k6" name="Analisar Crédito Manual" camunda:candidateUsers="admin">
      <bpmn:incoming>Flow_10pv4jb</bpmn:incoming>
      <bpmn:outgoing>Flow_1avxr74</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="CadastrarCliente_07fpwhy" name="Cadastrar Cliente" camunda:delegateExpression="${cadastrarClienteDelegate}">
      <bpmn:incoming>Flow_049quxl</bpmn:incoming>
      <bpmn:outgoing>Flow_1awhfh2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_0enn12e" name="Régua Crédito">
      <bpmn:incoming>Flow_102bz88</bpmn:incoming>
      <bpmn:incoming>Flow_0i4oxnl</bpmn:incoming>
      <bpmn:outgoing>Flow_0ob2pfw</bpmn:outgoing>
      <bpmn:outgoing>Flow_1vfu3e5</bpmn:outgoing>
      <bpmn:outgoing>Flow_10pv4jb</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:intermediateThrowEvent id="Event_1yf7odi" name="Saída">
      <bpmn:incoming>Flow_1avxr74</bpmn:incoming>
      <bpmn:linkEventDefinition id="LinkEventDefinition_0b4u159" name="linkFim" />
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_0pvuz88" sourceRef="StartEvent_1" targetRef="BuscarCadastro_18ctxus" />
    <bpmn:sequenceFlow id="Flow_1e8y8rm" sourceRef="BuscarCadastro_18ctxus" targetRef="Gateway_0gavuh8" />
    <bpmn:sequenceFlow id="Flow_049quxl" name="false" sourceRef="Gateway_0gavuh8" targetRef="CadastrarCliente_07fpwhy">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${clienteExiste == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0eaeb6k" name="true" sourceRef="Gateway_0gavuh8" targetRef="analiseCredito">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${clienteExiste == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_10pv4jb" sourceRef="Gateway_0enn12e" targetRef="Activity_1r3d3k6">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${resultadoAnalise.resultadoAnalise == "MANUAL"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1avxr74" sourceRef="Activity_1r3d3k6" targetRef="Event_1yf7odi" />
    <bpmn:sequenceFlow id="Flow_1vfu3e5" sourceRef="Gateway_0enn12e" targetRef="AprovarCredito_1ac6m7q">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${resultadoAnalise.resultadoAnalise == "REPROVADO"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1d9zipz" sourceRef="AprovarCredito_1ac6m7q" targetRef="Event_1a7h9ou" />
    <bpmn:sequenceFlow id="Flow_1awhfh2" sourceRef="CadastrarCliente_07fpwhy" targetRef="analiseCredito" />
    <bpmn:sequenceFlow id="Flow_0i4oxnl" sourceRef="analiseCredito" targetRef="Gateway_0enn12e" />
    <bpmn:sequenceFlow id="Flow_102bz88" sourceRef="Event_0sz33i6" targetRef="Gateway_0enn12e" />
    <bpmn:sequenceFlow id="Flow_0ob2pfw" sourceRef="Gateway_0enn12e" targetRef="RejeitarCredito_05u2ln8">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${resultadoAnalise.resultadoAnalise == "APROVADO"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0gx1aod" sourceRef="RejeitarCredito_05u2ln8" targetRef="Event_1b4yq3x" />
    <bpmn:serviceTask id="BuscarCadastro_18ctxus" name="Buscar Cadastro" camunda:delegateExpression="${buscarCadastroDelegate}">
      <bpmn:incoming>Flow_0pvuz88</bpmn:incoming>
      <bpmn:outgoing>Flow_1e8y8rm</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:businessRuleTask id="analiseCredito" name="DMN Crédito" camunda:resultVariable="resultadoAnalise" camunda:decisionRef="Decision_1jc9lhk" camunda:mapDecisionResult="singleResult">
      <bpmn:incoming>Flow_1awhfh2</bpmn:incoming>
      <bpmn:incoming>Flow_0eaeb6k</bpmn:incoming>
      <bpmn:outgoing>Flow_0i4oxnl</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:intermediateCatchEvent id="Event_0sz33i6" name="Chegada">
      <bpmn:outgoing>Flow_102bz88</bpmn:outgoing>
      <bpmn:linkEventDefinition id="LinkEventDefinition_0mizk7q" name="linkFim" />
    </bpmn:intermediateCatchEvent>
    <bpmn:endEvent id="Event_1b4yq3x" name="Crédito Rejeitado">
      <bpmn:incoming>Flow_0gx1aod</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_1xzj9bk" />
    </bpmn:endEvent>
    <bpmn:endEvent id="Event_1a7h9ou" name="Crédito Aprovado">
      <bpmn:incoming>Flow_1d9zipz</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_18q3npa" />
    </bpmn:endEvent>
    <bpmn:serviceTask id="AprovarCredito_1ac6m7q" name="Reprovar Solicitação de Crédito" camunda:delegateExpression="${registrarSolicitacaoCreditoDelegate}">
      <bpmn:incoming>Flow_1vfu3e5</bpmn:incoming>
      <bpmn:outgoing>Flow_1d9zipz</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="RejeitarCredito_05u2ln8" name="Aprovar Solicitação de Crédito" camunda:delegateExpression="${registrarSolicitacaoCreditoDelegate}">
      <bpmn:incoming>Flow_0ob2pfw</bpmn:incoming>
      <bpmn:outgoing>Flow_0gx1aod</bpmn:outgoing>
    </bpmn:serviceTask>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_0a2m3ru">
      <bpmndi:BPMNShape id="Participant_15r3u82_di" bpmnElement="Participant_15r3u82" isHorizontal="true">
        <dc:Bounds x="140" y="77" width="2130" height="1083" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_122ib7l_di" bpmnElement="Lane_122ib7l" isHorizontal="true">
        <dc:Bounds x="170" y="77" width="2100" height="293" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_07cgomp_di" bpmnElement="Lane_07cgomp" isHorizontal="true">
        <dc:Bounds x="170" y="370" width="2100" height="390" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_19ui9tw_di" bpmnElement="Lane_19ui9tw" isHorizontal="true">
        <dc:Bounds x="170" y="760" width="2100" height="400" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="282" y="189" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="269" y="165" width="61" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0gavuh8_di" bpmnElement="Gateway_0gavuh8" isMarkerVisible="true">
        <dc:Bounds x="535" y="475" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="524" y="445" width="74" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_12ztda0_di" bpmnElement="Activity_1r3d3k6">
        <dc:Bounds x="1010" y="920" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0mgz620_di" bpmnElement="CadastrarCliente_07fpwhy">
        <dc:Bounds x="510" y="620" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0enn12e_di" bpmnElement="Gateway_0enn12e" isMarkerVisible="true">
        <dc:Bounds x="1035" y="635" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1025" y="692" width="71" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0po9jco" bpmnElement="Event_1yf7odi">
        <dc:Bounds x="1242" y="942" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1246" y="985" width="29" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1f3774i_di" bpmnElement="BuscarCadastro_18ctxus">
        <dc:Bounds x="250" y="460" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ynx2xw_di" bpmnElement="analiseCredito">
        <dc:Bounds x="770" y="620" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0du3igs_di" bpmnElement="Event_0sz33i6">
        <dc:Bounds x="932" y="532" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="928" y="513" width="45" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0dfp5pq_di" bpmnElement="Event_1b4yq3x">
        <dc:Bounds x="1582" y="482" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1558" y="525" width="85" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_17hkgvg_di" bpmnElement="Event_1a7h9ou">
        <dc:Bounds x="1582" y="642" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1558" y="685" width="85" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0mlqiea_di" bpmnElement="AprovarCredito_1ac6m7q">
        <dc:Bounds x="1200" y="620" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_192xv9z_di" bpmnElement="RejeitarCredito_05u2ln8">
        <dc:Bounds x="1200" y="460" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0pvuz88_di" bpmnElement="Flow_0pvuz88">
        <di:waypoint x="300" y="225" />
        <di:waypoint x="300" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1e8y8rm_di" bpmnElement="Flow_1e8y8rm">
        <di:waypoint x="350" y="500" />
        <di:waypoint x="535" y="500" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_049quxl_di" bpmnElement="Flow_049quxl">
        <di:waypoint x="560" y="525" />
        <di:waypoint x="560" y="620" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="564" y="570" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0eaeb6k_di" bpmnElement="Flow_0eaeb6k">
        <di:waypoint x="585" y="500" />
        <di:waypoint x="820" y="500" />
        <di:waypoint x="820" y="620" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="668" y="482" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10pv4jb_di" bpmnElement="Flow_10pv4jb">
        <di:waypoint x="1060" y="685" />
        <di:waypoint x="1060" y="920" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1avxr74_di" bpmnElement="Flow_1avxr74">
        <di:waypoint x="1110" y="960" />
        <di:waypoint x="1242" y="960" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1vfu3e5_di" bpmnElement="Flow_1vfu3e5">
        <di:waypoint x="1085" y="660" />
        <di:waypoint x="1200" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1d9zipz_di" bpmnElement="Flow_1d9zipz">
        <di:waypoint x="1300" y="660" />
        <di:waypoint x="1582" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1awhfh2_di" bpmnElement="Flow_1awhfh2">
        <di:waypoint x="610" y="660" />
        <di:waypoint x="770" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0i4oxnl_di" bpmnElement="Flow_0i4oxnl">
        <di:waypoint x="870" y="660" />
        <di:waypoint x="1035" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_102bz88_di" bpmnElement="Flow_102bz88">
        <di:waypoint x="965" y="559" />
        <di:waypoint x="1000" y="580" />
        <di:waypoint x="1044" y="651" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ob2pfw_di" bpmnElement="Flow_0ob2pfw">
        <di:waypoint x="1060" y="635" />
        <di:waypoint x="1060" y="500" />
        <di:waypoint x="1200" y="500" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gx1aod_di" bpmnElement="Flow_0gx1aod">
        <di:waypoint x="1300" y="500" />
        <di:waypoint x="1582" y="500" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
